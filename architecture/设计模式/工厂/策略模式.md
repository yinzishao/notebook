# 策略模式（Strategy）
- 面向对象中并非类越多越好，类的划分是为了封装，但分类的基础是抽象，具有相同属性和功能的对象的抽象集合才是类。
- 策略模式：定义算法家族并分别封装，他们完成的工作相同，只是实现不同，可以互相替换。继承有助于析取这些算法的公共功能。此模式让算法的变化不会影响到使用算法的用户。
- 策略与工厂模式结合，使客户端需要认识的类减少，耦合度更加降低。
- 策略模式可以简化单元测试，因为每个算法可以通过自己的接口单独测试。
- 只要在不同时间内应用不同的业务规则，就可以考虑用策略模式来处理这种变化的可能性

参考链接：
- [大话设计模式：行为型](http://jennica.space/2017/01/03/design-patterns-behavioral/)


---

# 工厂模式的差别

## 用途不一样

工厂是创建型模式,它的作用就是创建对象；

策略是行为型模式,它的作用是让一个对象在许多行为中选择一种行为;

## 关注点不一样

一个关注对象创建

一个关注行为的封装

## 解决不同的问题

工厂模式是创建型的设计模式，它接受指令，创建出符合要求的实例；它主要解决的是资源的统一分发，将对象的创建完全独立出来，**让对象的创建和具体的使用客户无关**。主要应用在多数据库选择，类库文件加载等。

策略模式是为了解决的是策略的切换与扩展，更简洁的说是**定义策略族**，分别封装起来，让他们之间可以相互替换，策略模式让策略的变化独立于使用策略的客户。

工厂相当于黑盒子，策略相当于白盒子；

- [原文链接](https://blog.csdn.net/basycia/java/article/details/50478245)


> ~~策略与工厂模式对比的简单总结：简单工厂/工厂模式，**客户端**需要两个类，Strategy和StrategyFactory，而策略与工厂结合只需要一个类，Context类。降低了耦合性。~~

> 策略类封装好相关的业务逻辑，直接供调用。而工厂类只是实现类的创建。

- [大话设计模式之简单工厂模式与策略模式](https://zhuanlan.zhihu.com/p/35238252)

---
# 简单工厂模式和策略模式的区别

- [简单工厂模式和策略模式的区别](https://blog.csdn.net/lmx125254/java/article/details/86625960): 对比微服务的思考

工厂模式的代码中可以看到 工厂模式主要是**返回的接口实现类的实例化对象**，最后返回的结果是接口实现类中的方法，而策略模式是在实例化策略模式的时候已经创建好了，我们可以再策略模式中随意的拼接重写方法，而工厂模式是不管方法的拼接这些的，他只关注最后的结果，不注重过程，而策略模式注重的是过程。

从上述的描述来看，策略模式就和我们常说的微服务很像，比如我们写的3个接口，吃饭是一个微服务，跑步是一个微服务，穿衣是一个微服务。**策略模式的宗旨就是将各项方法之间连接起来，达到一个新的方法，微服务的宗旨也是防止服务的多次调用，降低代码的耦合度，因此这么看来策略模式和微服务还是比较相像的**。

> **总结下**。 工厂模式中只管生产实例，具体怎么使用工厂**实例由调用方决定**，策略模式是将生成实例的**使用策略放在策略类中配置后才提供调用方使用**。 工厂模式调用方可以**直接调用工厂实例的方法属性等**，策略模式不能**直接调用实例的方法属性**，需要在策略类中封装策略后调用

```
PeopleFactory peopleFactory = new PeopleFactory();
People people = peopleFactory.getPeople("Xiaohong");
System.out.print("工厂模式-------------"); people.eat();
System.out.print("工厂模式-------------"); people.run();
System.out.print("工厂模式-------------"); people.eat();
StrategySign strategySign = new StrategySign("Xiaohong");
System.out.print("策略模式-------------");strategySign.run();
```

