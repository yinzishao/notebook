# 进程、线程、协程的区别

多个线程可以属于**同一个进程并共享内存空间**。因为多线程**不需要创建新的虚拟内存空间**，所以它们也不需要内存管理单元处理上下文的切换，线程之间的通信也正是基于共享的内存进行的，与重量级的进程相比，线程显得比较轻量。

虽然线程比较轻量，但是在调度时也有比较大的额外开销。每个线程会都占用 1 兆以上的内存空间，在对线程进行切换时**不止会消耗较多的内存**，恢复寄存器中的内容还需要向操作系统**申请或者销毁**对应的资源，每一次线程上下文的切换都需要消耗 ~1us 左右的时间1，但是 Go 调度器对 Goroutine 的上下文切换约为 ~0.2us，减少了 80% 的额外开销。

Go 语言的调度器通过**使用与 CPU 数量相等的线程减少线程频繁切换的内存开销**，同时在每一个线程上执行**额外开销更低的 Goroutine 来降低操作系统和硬件的负载**。

- [调度器](https://draveness.me/golang/docs/part3-runtime/ch06-concurrency/golang-goroutine/)

- [cookbook-并发编程](https://python3-cookbook.readthedocs.io/zh_CN/latest/chapters/p12_concurrency.html)
