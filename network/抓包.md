
http协议没有引入ssl的加密，所以只需要拦截到http底层的tcp请求，分析出报文即可实现抓包。但https因为引入了双向ssl隧道层加密，单纯的引入中间人拦截tcp请求并分析报文是没有什么用的，因为有加密拦截出来的报文也是乱码。所以https的抓包会困难一些，虽如此但并意味着说debug调试对https就无可奈何了。

既然https引入了ssl层加密，但它**依然需要与客户端交互加密算法和公钥**，基于这个原理那作为抓包工具的中间人伪装成客户端就能解密了，但这还不够，因为**中间人伪装成客户端抓到请求之后还需要再次转发给真正的客户端**。因为客户端（浏览器、app等）依然是通过https协议发出的请求，所以需要中间人伪装客户端抓取到数据之后仍然需要通过https协议将数据返回给真正的客户端，所以最终抓取拦截https请求的原理就是抓包工具即**作为客户端又作为服务端**，而且抓包工具作为服务端提供的**https服务**是**需要真正的客户端能信任的**。


- [Ubuntu下配置开发调试抓包工具Charles](https://blog.jjonline.cn/mine/242.html)
